#include<SPI.h>
#include<LoRa.h>

#define NSS 18
#define RST 14
#define DID0 26
#define MOSI 27
#define MISO 19
#define CLK 5
int counter=0;

void setup(){
  //  Initialize serial monitor
  Serial.begin(115200);
  while(!Serial);
  Serial.println("LoRa Reciever");
  SPI.begin(CLK,MISO,MOSI,NSS);
  LoRa.setPins(NSS,RST,DID0);

//replace the LoRa .brgin(--E-) argument with the location's frequency
//433E6 for Asia
//866E6 for Europe
//915E6 for North America
 while(!LoRa.begin(433E6)){
  Serial.println(".");
  delay(500);
  }

  LoRa.setSyncWord(0XF3);
  Serial.println("LoRa Intitializing OK!");
}

void loop(){
  // try to sparse packet
  int packetSize = LoRa.parsePacket();
   if(packetSize){
    Serial.println("Recieving Packet :");

  //read packet
  while(LoRa.available()){
   String LoRaData = LoRa.readString();
   Serial.print(LoRaData);
  }
  
  Serial.print("' with RSSI ");
  Serial.println(LoRa.packetRssi());
  Serial.println();
}}
  
